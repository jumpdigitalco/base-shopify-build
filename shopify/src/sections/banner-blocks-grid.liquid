{% if section.blocks.size > 0 %}
<section class="module banner-blocks-grid">

{% render 'module-heading', settings: section.settings %}

<div class="banner-blocks block-size-{{section.blocks.size}} small-grid-{{section.settings.image_mobile_columns}} large-grid-{{section.settings.image_desktop_columns}}">
  {% for block in section.blocks %}
    {% if block.settings.image == blank %}{% continue %}{% endif %}
    <div class="banner-block{% if block.settings.image_hover != blank %} with-hover{% endif %}">

        <div class="image-container">
          {% if block.settings.link != blank %}
            <a href="{{block.settings.link}}" class="banner-link" title="Go to {{ block.settings.title }}">
          {% endif %}

            {% render 'responsive-image', image: block.settings.image, mobile_image: block.settings.image, class: 'main-image', img_alt_prefix: block.settings.image.alt %}

            {% comment %} Hover image {% endcomment %}
            {% if block.settings.image_hover != blank %}
            {% render 'responsive-image', image: block.settings.image_hover, class: 'hover-image', img_alt_prefix: block.settings.image_hover.alt %}
            {% endif %}

            {% if block.settings.link != blank %}
              </a>
          {% endif %}
        </div>

        <div class="block-content" data-aos="fade-up" data-aos-duration="1500">
          {% if block.settings.link != blank %}
            <a href="{{block.settings.link}}" class="banner-link" title="Go to {{ block.settings.title }}">
          {% endif %}

            {% if block.settings.title != blank %}
            <div class="headline">{{ block.settings.title }}</div>
            {% endif %}
            {% if block.settings.caption != blank %}
            <div class="caption">{{ block.settings.caption }}</div>
            {% endif %}
            {% if block.settings.link != blank %}
            <div class="cta-wrap">
                <button class="cta-link-1"><span>{{ block.settings.cta }}</span></button>
            </div>
            {% endif %}

          {% if block.settings.link != blank %}
              </a>
          {% endif %}
        </div>
    </div>
    {% endfor %}
</div>

</section>
{% endif %}

{% schema %}
{
  "name": "Banner Blocks Grid",
  "settings": [
        {
            "type": "header",
            "content": "Module settings"
        },
        {
            "type": "checkbox",
            "default": false,
            "id": "small_container",
            "label": "Enable small container?"
        },
        {
            "type": "text",
            "id": "title",
            "label": "Title"
        },
        {
            "type": "textarea",
            "id": "caption",
            "label": "Caption"
        },
        {
            "type": "header",
            "content": "Call to action"
        },
        {
            "type": "text",
            "id": "cta_text",
            "label": "CTA Text",
            "default": "Shop Now"
        },
        {
            "type": "url",
            "id": "cta_url",
            "label": "CTA URL",
            "info": "CTA Not shown when empty"
        },
        {
            "type": "radio",
            "options": [
                { "value": "outline", "label": "Outline" },
                { "value": "solid", "label": "Solid Color" },
                { "value": "solid-2", "label": "Solid Dark/Light" },
                { "value": "link", "label": "Link" }
            ],
            "default": "outline",
            "id": "cta_style",
            "label": "CTA Style"
        },
        {
            "type": "radio",
            "options": [
                { "value": "6", "label": "6" },
                { "value": "5", "label": "5" },
                { "value": "4", "label": "4" },
                { "value": "3", "label": "3" }
            ],
            "default": "4",
            "id": "image_desktop_columns",
            "label": "Desktop Columns"
        },
        {
            "type": "radio",
            "options": [
                { "value": "2", "label": "2" },
                { "value": "1", "label": "1" }
            ],
            "default": "2",
            "id": "image_mobile_columns",
            "label": "Mobile Columns"
        }
  ],
  "blocks": [
    {
        "type": "banner",
        "name": "Banner block",
        "settings": [
            {
                "type": "text",
                "id": "title",
                "label": "Title"
            },
            {
                "type": "textarea",
                "id": "caption",
                "label": "Caption"
            },
            {
                "type": "text",
                "id": "cta",
                "label": "CTA Text",
                "default": "Shop"
            },
            {
                "type": "url",
                "id": "link",
                "label": "Link"
            },
            {
                "type": "image_picker",
                "id": "image",
                "label": "Image"
            },
            {
                "type": "image_picker",
                "id": "image_hover",
                "label": "Hover Image"
            }
        ]
    }
  ],
  "presets": [
    {
      "name": "Banner Blocks Grid",
      "category": "Homepage",
      "settings": {
        
      }
    }
  ]
}
{% endschema %}