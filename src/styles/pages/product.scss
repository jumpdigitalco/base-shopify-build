$externalPadding: 20px;
$internalPadding: 20px;
$combinedPadding: #{$externalPadding + $internalPadding};
//
//  Typography
//  _____________________________________________
.product-core-wrapper{
    .product-complementary-info{
        font-size: 13px;
        line-height: 18px;
        
        .product-toggle{
            // font-family: $fontfamily-2;
            text-transform: uppercase;
            font-size: 14px;
            line-height: 17px;
        }
        .product-complementary-single{
            font-size: 13px;
            line-height: 18px;
        }
    }
}
.product-core-block {
    h1 {
        @extend .title-font-7;
    }
    .price-box{
        @extend .title-font-7;
        font-size: 18px;
        .product-compare-price,
        .product-discount-amount{
            font-weight: 400;
        }
    }
    .product-title-clone{
        @extend .title-font-7;
    }
    &.product-description {
        overflow: hidden;
        @include transition(all $fast);

        table {
            width: auto !important;
            margin-top: 10px;
            thead,
            th {
                font-weight: bold;
            }
            tbody {
            }
        }

        ul {
            li {
                list-style: disc;
                list-style-type: disc;
                list-style-position: inside;
            }
        }

        ol {
            li {
                list-style: decimal;
                list-style-type: decimal;
                list-style-position: inside;
            }
        }

        &.expandable {
            max-height: 105px;
        }

        & + .toggle-description {
            span {
                border-bottom: 1px solid;
                &:before {
                    content: attr(data-show);
                }
            }
        }

        &.expand {
            max-height: 400vh; //unkown actual height, allows animation
            & + .toggle-description {
                span {
                    &:before {
                        content: attr(data-hide);
                    }
                }
            }
        }
    }
    .spr-badge-caption,
    .sku,
    .swatch,
    .swatch-label,
    .size-chart-trigger,
    .share-title {
        
        &.swatch {
            // text-align: left;
            // line-height: inherit;
        }
        &.size-chart-trigger {
            // text-decoration: underline;
            margin-bottom: 10px;
            display: inline-block;
        }
    }

    .size-chart-trigger{
        text-transform: uppercase;
    }

    .tabbed-module.metafield-tabs{
        .tabbed-title-wrap{
            .tabbed-title{
                font-size: 12px;
                letter-spacing: 0;
            }
        }
        .tabbed-content-wrap{
            .tabbed-content{
                font-style: italic;
                font-weight: 300;
                letter-spacing: 0.4px;
            }
        }
    }

    &.block-meta{
        .accordion-container{
            .system-content{
                .content-inner{
                    line-height: 1.4;
                }
            }
        }
    }

    .accordion-container .system {
        .content-inner {
            // @extend .body-font-4;
        }
    }
}

.product-core {
    .product-attribute-container {
        #productSelect-QS,
        #productSelect {
            @include label-font;
        }
        .selector-wrapper {
            .swatch-label {
                font-size: 16px;
                strong{
                    font-weight: 400;
                }
            }
        }
        .size-guide-wrap {
            .size-guide-toggle {
                // font-family: $fontfamily-2;
                font-size: 14px;
                margin-left: 10px;
                cursor: pointer;
            }
        }

        .variant-selection-availability{
            font-size: 12px;
            letter-spacing: 1px;
            color: $orange;
        }

        &.single-variant,
        &.single-option {
            justify-content: flex-start;
            .product-select-wrapper {
                display: none;
            }
            & + .prod-core-form__footer {
                margin-top: 0;
            }
        }
    }
}

.product-extra {
    .tabbed-module {
        .tabbed-title-wrap {
            .tabbed-title {
                
            }
        }
    }
    .tab-container .system-title {
        
    }
}

.product-recommend{
    .products-carousel{
        .headline{
            @include title-font-1;
        }
    }

    .inc_pdp_block{
        max-width: 100%;
        background: 0;
        * {
            @extend .base-font-1;
        }
        .inc_pdp_title_block{
            .inc_pdp_title_text_block{
                .inc_pdp_title_text{
                    @extend .title-font-1;
                }
            }
        }
    }
}

.size-guide-content {
    text-align: center;
    padding: 40px 20px;
    height: auto;
    @extend .animated, .fadeInDown;
    h3 {
        // font-family: $fontfamily-2;
        font-size: 20px;
        line-height: 26px;
        margin-bottom: 20px;
    }
    .guide-inner {
        display: inline-block;
        table {
            line-height: 1.6;
        }
    }
}

//
//  Common
//  _____________________________________________

.template-product {
    #MainContent {
        position: relative;
        // overflow: hidden;
    }

    .breadcrumb {
        padding: $smallScreenMargin $smallScreenMargin 0;
        width: 100%;
    }

    .product-core-wrapper {
        position: relative;
        width: 100%;
        .product-attribute-container {
            margin-top: 20px;
        }
    }

    .collection-products{
        .item{
            
        }
    }
    .scrolling-fix-stopper {
        width: 100%;
        height: 1px;
        display: block;
        @include clearfix;
    }
}//template-product

.product-detail-container {
    // max-width: $xxLargeScreen;
    margin: 0 auto;

    .product-description {

    }

    .toggle-description {
        @extend .cta-font-1;
        font-size: 12px;
        margin-top: $smallScreenMargin/2;
        text-align: left;
        display: none;
        &:before {
            content: '';
        }
        &.active {
            display: block;
        }
    }

    .product-siblings {

        .current-sibling {
            font-size: 16px;
            strong {
                font-weight: normal;
                margin-right: 5px;
            }
            span {
            }
        }

        .sibling-list {
            display: flex;
            flex-wrap: wrap;
            margin-top: $smallScreenMargin/2;
            @extend .animated, .fadeInUp;
            @include animation-delay($fast);
            @include animation-duration($fast);
            .sibling-item {
                margin: 2px 3px;
                position: relative;
                padding: 2px;
                .sibling-inner {
                    &.sibling-image,
                    &.sibling-color {
                        // margin: 3px;
                        width: 40px;
                        border-radius: 4px;
                        // height: 25px;
                        overflow: hidden;
                    }
                    &.sibling-image {
                        position: relative;
                        padding-bottom: $productImageRatioPercentage;
                        img{
                            position: absolute;
                            left: 0;
                            right: 0;
                        }
                    }
                    &.sibling-color {
                    }
                    &:before {
                        border: 1px solid transparent;
                    }
                }
                &.active,
                &:hover {
                    .sibling-inner {
                        img{
                            border: 1px solid;
                        }
                    }
                }
            }

            .sibling-title {
                display: none;
            }
        }
    } //.product-siblings

    .product-attribute-container {
        // max-width: 335px;
        #productSelect-QS,
        #productSelect {
            // display: block !important;
            // padding: 13.5px 15px;
        }
        .selector-wrapper{
            
        }
        .product-select-wrapper {
            display: none;
            &::after {
                content: $icon-arrow-down-3;
                color: $black;
                font-size: 8px;
                top: 50%;
                transform: translateY(-50%) rotate(180deg);
            }
            > .selector-wrapper {
                &,
                .single-option-selector {
                    //display: none;
                }
            }
            select {
                border: none;
                background-color: $lightGrey;
                color: $black;
                margin-bottom: 0;
                font-weight: bold;
            }
            &.active {
                &::after {
                    transform: translateY(-50%);
                }
            }
        }
        .variant-selection-availability{
            opacity: 0;
            visibility: hidden;
            @include transition(all $fast);
            &.active{
                opacity: 1;
                visibility: visible;
            }
        }
        .input-wrapper.select {
            margin-right: 15px;
            width: 50%;
        }
        
    }

    @include qtyStepper;
    .qty-wrap {
        width: 50%;
        height: $cta-height;
        display: none;
    }

    .prod-core-form__footer {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        // margin-top: -18px;
        padding-top: 10px;
        // flex-wrap: wrap;
        transition: margin-top $fast;

        .addtocart {
            width: 100%;
            order: 2;
        }
        .qty-wrap {
            width: 100%;
        }
        .view-full{
            display: inline-block;
            margin-top: 20px;
            margin-top: 15px;
            border-bottom: 1px solid currentColor;
            order: 3;
        }

    }
    section:last-child {
        margin-bottom: 0px;
    }
} //.product-detail-container

.product-media {
    position: relative;
    @include transition(all $slow);

    picture{
        padding-bottom: $productImageRatioPercentage;
        img{
            display: block;
            visibility: visible;
            @include opacity(1);
            @include transition(all $slow);
            
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;

            &:not([src]) {
                opacity: 0;
            } 
        }
    }

    .video-wrapper{
        padding-bottom: $productImageRatioPercentage;
        border-radius: 4px;
        .video-box{
            overflow: hidden;
            border-radius: 4px;
            video{
                height: auto !important;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }
        }
    }

    .background-image {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-size: auto 100%;
        background-position: center;
        background-repeat: no-repeat;
        &.video-thumbnail {
            background-size: cover;
        }
    }

    .product-media-images {
        position: relative;
        .image-slide {
            position: relative;
            display: block;
            &:before {
                @include icon-fonts(
                    $icon-zoom-in,
                    $mediumGrey2,
                    $smallScreenMargin
                );
                position: absolute;
                bottom: $smallScreenMargin/2;
                left: $smallScreenMargin/2;
            }
            img{
                border-radius: 4px;
            }
            &.media-video{
                .video-wrapper.bg-video{
                    position: relative;
                    width: 100%;
                    height: 0;
                    min-height: 400px;
                    &.paused{
                        iframe{
                            opacity: 0;
                            visibility: hidden;
                        }
                    }
                    &.playing{
                        .content-wrapper{
                            opacity: 0;
                        }
                        & + .background-image.video-thumbnail{
                            opacity: 0;
                        }
                    }
                }
                .background-image.video-thumbnail{
                    display: block;
                }
                img{
                    display: none;
                }
                &:before{
                    display: none;
                }
            }
        }
        .toggle-images{
            display: none;
        }
    }

    .product-media-thumbnails {
        .images-wrapper {
            display: flex;
            &.slick-vertical{
                height: auto !important;
                position: relative;
                padding-bottom: 30px !important;
                padding-top: 30px !important;
                .slick-prev{
                    top: 0px;
                    bottom: inherit;
                    z-index: 2;
                    left: 0;
                    right: 0;
                    display: block;

                    width: 100%;
                    height: auto;
                    &:before{
                        @include icon-fonts($icon-drop-up, $black, 20px);
                        text-indent: 0;
                    }
                }
                .slick-next{
                    // bottom: 0px;
                    // top: inherit;
                    // z-index: 2;
                    // left: 0;
                    // right: 0;
                    // display: block;

                    // width: 100%;
                    // height: auto;
                    // &:before{
                    //     @include icon-fonts($icon-drop-down, $black, 20px);
                    //     text-indent: 0;
                    // }
                }
            }
        }
        .image-thumbnail {
            position: relative;
            display: block;
            vertical-align: top;
            overflow: hidden;
            &,
            .background-image,
            img {
                border-radius: 1px;
            }
            .background-image,
            img {
                border: none;
            }
            .background-image {
                background-size: cover;
                &.video-thumbnail{
                    display: none;
                }
            }
            picture {
                display: block;
                position: relative;
                height: 90px;
            }
            img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
            &.nodisplay {
                display: none;
            }
            &.active {
                .background-image,
                img {
                    border: 1px solid $lightGrey2;
                }
            }
            &:not(.active) {
                &::after {
                    content: '';
                    position: absolute;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background-color: rgba($black, 0.4);
                    display: none;
                }
            }
        }
    }

    &.slider{
        .product-media-images {
            .images-wrapper {
                &:not(.slick-initialized){
                    opacity: 0;
                    visibility: hidden;
                    display: flex;
                    flex-wrap: nowrap;
                    @include transition(all $fast);
                    .image-slide{
                        flex: 1 1 auto;
                    }
                }
            }
        }

        .slick-slide{
            & > div{
                width: 100%;
            }
        }
    }

    &.scrolling {
        .background-image {
            display: none;
        }
        
    }
}//.product-media

.product-core {
    .product-core-block {
        @include transition(all $slow);

        &.block-badges {
            margin-bottom: $smallScreenMargin/4;
        }
        &.block-title {
            h1{
                
            }
            .product-vendor {
                display: none;
            }
        }
        &.block-review-rate{
            .yotpo-reviews-star-ratings-widget{
                padding-bottom: 5px;
            }
        }

        .product-title-clone{
            display: none;
        }

        .swatch:not(.swatch-linked) {
            // width: auto;
            min-width: 30px;
        }
        .swatch-label {
            display: block;
            margin-bottom: 10px;
        }

        .add-to-cart-btn {
            &:before,
            &:after,
            span {
                @extend .animated, .fadeIn;
                @include animation-duration($fast);
            }
            .loading-state {
                @include loader-2;
                display: none;
            }
            &.disabled,
            &[disabled] {
                cursor: default;
                opacity: 1;
                background-color: var(--main-color);
                // .add-to-cart-text{
                // font-size: 0;
                // line-height: 1;
                // &:after{
                //     font-size: 14px;
                //     content: "Sold Out";
                //     text-indent: 0;
                // }
                // }
                &:after {
                    // content: attr(data-variant-title);
                    // margin-left: 4px;
                }
            }
            &.sold-out {
                &:after {
                    display: none;
                }
            }
            &.loading {
                &:after {
                    display: none;
                }
                span {
                    display: none !important;
                }
                .loading-state {
                    display: block;
                }
            }
        }

        &.block-meta{
            padding: 10px 15px;
            border: 1px solid $lightGrey2;
            border-radius: 4px;
        }

        .tabbed-module.metafield-tabs{
            .tabbed-title-wrap{
                border-top: 0;
                flex-wrap: nowrap;
                flex-direction: row;
                margin: 0;
                grid-gap: 3px;
                justify-content: space-between;
                border-bottom: 1px solid $mediumGrey2;
                .tabbed-title{
                    display: flex;
                    flex: 1 1 auto;
                    justify-content: center;
                    align-items: center;
                    height: 42px;
                    max-width: 90px;
                    padding: 5px 0;
                    border-bottom: 1px solid transparent;
                    &:not(:last-child){
                        margin-right: 0;
                    }
                    &.active{
                        color: $mediumGrey2;
                        border-bottom-color: $mediumGrey2;
                    }
                }
            }
            .tabbed-content-wrap{
                @include clearfix;
                .tabbed-content{
                    padding: 15px 0 0;
                    color: $mediumGrey2;
                    @include transition(all $fast);
                    &:not(.active){
                        max-height: 0;
                    }
                    &.active{
                        max-height: 200vh;
                    }
                }
            }
        }//.tabbed-module.metafield-tabs
    }



    div#smartwishlist{
        margin: auto;
        .sw_tooltip.tooltip.swpbutton3{
            border: 0 !important;
            text-align: left;
            margin: 0 !important;
        }
    }

    .product-complementary-info{
        margin-top: 30px;
        text-align: center;
        a{
            display: inline-block;
            border-bottom: 1px solid;
        }
        ul,ol{
            margin-bottom: 10px;
            padding-left: 20px;
            li{
                line-height: 22px;
            }
        }
        ul{
            li{
                list-style: disc;
                list-style-type: disc;
            }
        }
        ol{
            li{
                list-style: decimal;
                list-style-type: decimal;
            }
        }
        .product-toggle{
            display: inline-flex;
            margin-bottom: $smallScreenMargin;
            cursor: pointer;
            
            justify-content: space-between;
            align-items: center;
            @include transition(all $fast);

            &:after{
                margin-left: 10px;
                @include transform( rotate(-180deg) );
                @include icon-fonts($icon-arrow-down-3, inherit, 7px);
                @include transition(all $fast);
            }

            &.active{

                &:after{
                    @include transform( rotate(0deg) );
                }
                & + .product-complementary-single{
                    max-height: 300vh;
                    padding-bottom: $smallScreenMargin*2;
                    & * {
                        opacity: 1;
                        @include transform( translateY(0px) );
                    }
                }
            }
        }
        .product-complementary-single{
            max-height: 0;
            overflow: hidden;
            width: 100%;
            text-align: left;
            @include transition(all $fast);
            & * {
                @include transition(all $fast);
                opacity: 0;
                @include transform( translateY(-20px) );
            }
        }
    }

    .price-box{
        justify-content: flex-start;
        margin-top: 15px;
        margin-bottom: 15px;
        border-bottom: 1px solid $lightGrey2;
        padding-bottom: 10px;
        &.has-special {
            .product-price,
            .product-list-price{

            }
        }
        &.has-discount {
            
        }
    }

    .selector-wrapper,
    .oneswatch-size {
        // display: none !important;
        .swatches{
            .swatch{
                margin-right: 10px;
                margin-bottom: 10px;
            }
        }
    }

    .size-chart-trigger{
        margin-bottom: 10px;
        display: inline-block;
        @include underlineAnimation;
    }

    // Size chart app-widget
    .wair-css{
        button{
            span{
                margin-bottom: 10px;
                @include underlineAnimation;
            }
        }
    }

    .product-attribute-container {
        // width: 100%;
        // display: grid;
        // grid-gap: 10px;
        // grid-template-columns: 1fr 1fr;

        &.single-variant,
        &.single-option,
        &.one-option {
            // grid-template-columns: 1fr;
        }

        // #productSelect {
        // display: block !important;
        // padding: 13.5px 15px;
        // }
        // .product-select-wrapper {
        // &::after {
        //     content: $icon-arrow-down-3;
        //     color: $black;
        //     font-size: 8px;
        //     top: 50%;
        //     transform: translateY(-50%) rotate(180deg);
        // }
        // > .selector-wrapper {
        //     &,
        //     .single-option-selector {
        //         display: none;
        //     }
        // }
        // select {
        //     border: none;
        //     background-color: $lightGrey;
        //     color: $black;
        //     margin-bottom: 0;
        //     font-weight: bold;
        // }
        // &.active {
        //     &::after {
        //         transform: translateY(-50%);
        //     }
        // }
        // }
        // .input-wrapper.select {
        //     margin-right: 15px;
        // }
        // @include qtyStepper;
        // .input-wrapper.select,
        // .qty-wrap {
        //     width: 50%;
        // }
    }
    &.addtocart-fixed{
        position: relative;
        .block-core{
            form{
                position: fixed;
                background: white;
                z-index: 3;
                left: 0;
                right: 0;
                bottom: 0;
                padding: 10px;
                border-top: 1px solid $lightGrey2;
                box-shadow: 0px -2px 2px rgba(0,0,0,0.1);
            }
        }
        .product-title-clone{
            display: block;
        }
        .product-siblings,
        .predict-placement.wair-css{
            display: none;
        }
        .price-box{
            margin: 0;
            padding: 0;
            border: 0;
            .sezzle-shopify-info-button{
                .sezzle-checkout-button-wrapper,
                .sezzle-payment-amount,
                * {
                    font-size: 11px !important;
                    line-height: 1.1 !important;
                }
                .sezzle-logo{
                    max-width: 60px !important;
                }
            }
        }
        .product-attribute-container{
            margin: 0;
            .selector-wrapper {
                margin-top: 0 !important;
                margin-bottom: 0 !important;
            }
            .swatch-label {
                display: none;
            }
        }
        .prod-core-form__footer{
            padding-top: 0;
        }
    }

}//.product-core

.product-media,
.product-extra {
    .product-video {
        position: relative;
    }
    .video-wrapper {
        .video-ctl {
            top: auto;
            bottom: auto;
            left: auto;
            position: relative;
            margin: 0;
            padding: 0;
        }
        .content-wrapper {
            display: flex;
            flex-direction: column;
            text-align: center;
            justify-content: center;
            align-items: center;
            align-content: center;
        }
    }
}

.product-recommend {
    width: 100%;
    padding: 10px 0px 20px;
    border-top: 1px solid $lightGrey2;
    margin-top: 30px;

    .products-carousel{

    }
    
    .crosssell-text {
        text-align: center;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-content: center;
    }
    .collection-products {
        &:not(.slick-initialized){
            display: flex;
            flex-wrap: nowrap;
            overflow-x: scroll;

        }
        &.slick-initialized{
            // display: block;
            .slick-list{
                flex: 1 1 auto;
            }
        }
    }
    .tabbed-module{
        .tabbed-content{
            .module-intro{
                display: none;
            }
        }
    }
    &.complementary-products{
        .item{
            .quick-buy-container{
                display: none;
            }
        }
    }
}

.yotpo-reviews-star-ratings-widget{
    .yotpo-sr-bottom-line-text{
        font-family: inherit !important;
        font-weight: normal !important;
         font-size: 14px !important;
    }
}

.yotpo-reviews-star-ratings-widget,
.yotpo-main-widget-layout{
    .yotpo-sr-star-full{
        path{
            fill: $black;
            stroke: $black;
        }
    }
}

.yotpo-widget-instance{
    .yotpo-reviews-main-widget{
        // --primary-font-family:  #{$fontFamily-0, $fontFamilyFallback} !important;
        // --secondary-font-family:  #{$fontFamily-0, $fontFamilyFallback} !important;
        .yotpo-main-widget-layout{
            --primary-font-family:  #{$fontFamily-0, $fontFamilyFallback};
            --secondary-font-family:  #{$fontFamily-0, $fontFamilyFallback};
            .yotpo-main-layout{
                .yotpo-head{
                    margin: 30px 0;
                    .yotpo-headline{
                        margin: auto;
                        @include title-font-1;
                    }
                }
            }
        }

        .yotpo-reviews-trademark{
            display: none !important;
            opacity: 0;
            visibility: hidden
        }
        #yotpo-main-widget-btn{
            &[data-v-1fafa3d2],
            &.yotpo-new-review-btn{
                @extend .cta-outline;
                padding: 0 20px;
            }
        }
        .yotpo-layout-header-wrapper{
            .yotpo-bottom-line{
                margin-bottom: 10px !important;
            }
        }
        .yotpo-bottom-line-summary{
            margin-top: 0;
        }
        .yotpo-filters-container{
            margin-top: 20px;
        }
        .yotpo-review:not(.yotpo-media-modal-review), 
        .yotpo-display-m .yotpo-review:not(.yotpo-media-modal-review)
        {
            margin: 20px auto;
            .yotpo-review-center-panel{
                order: 4;
                width: 100%;
                flex: 1 1 auto;
                margin-top: 20px;
                font-size: 14px;
                .yotpo-review-rating-title{
                    flex-direction: column;
                    row-gap: 10px;
                    .yotpo-review-title{
                        margin-left: 0;
                    }
                }
            }
        }
        
    }
}

.product-reviews{
    max-width: $largeScreen;
    margin: 0 auto;
    width: 100%;
}

.product-extra {
    
}

//
// Small Screens Only
//  _____________________________________________
@include query-small {
    
}

//
//  Medium Screens and Smaller
//  _____________________________________________
@include query-medium-down {
    .template-product {
        #MainContent {

        }
    }
    .product-detail-container {
        .product-media {
            &.slider {
                // padding: 0 20px;
            }
        }
        .product-core {
            padding-bottom: 20px;
            padding-top: 0;
        }
        .product-siblings {
            & + .product-attribute-container {
                margin-top: 0;
            }
        }
        .prod-core-form__footer{
            &.is-fixed{

            }
            .addtocart{

            }
        }
    }
    .product-media {
        display: block;
        text-align: center;
        margin-bottom: 10px;
        .product-media-images {
            // display: block;
            // width: 100%;
            // position: relative;
            overflow: scroll;
            // margin: 0 auto;

            .images-wrapper {
                display: inline-flex;
                grid-gap: 10px;
                flex-wrap: nowrap;
                overflow: scroll;
                padding-left: $smallScreenMargin;
                padding-right: $smallScreenMargin;
            }
            .background-image {
                display: none;
            }
            .image-slide {
                flex: 0 0 auto;
                width: calc(100vw - #{$smallScreenMargin*3});
                &:before {
                    display: none;
                }
                &:after {
                    content: 'Double tap for zoom';
                    position: absolute;
                    font-size: 10px;
                    bottom: 10px;
                    left: 40px;
                    display: none;
                }
            }
        }
        .product-media-thumbnails {
            display: none;
            .image-thumbnail {
                &:not(:last-child) {
                    margin-right: 2px;
                }
            }
            .images-wrapper {
                padding: 0 12px;
            }
        }
        &.slider {
            .product-media-thumbnails {
                .image-thumbnail {
                    //border: 0;
                    //width: $productThumbnailsPercentage; // Max 6 items in the nav
                }
            }
        }
        &.scrolling{
            
        }
    }//.product-media

    .product-core {
        padding: 0px $smallScreenMargin $smallScreenMargin;
        .product-core-block {
            text-align: left;
        }
        .product-core-inner{
            text-align: left;
            position: relative;
        }
        .product-attribute-container {

        }
        .add-to-cart-btn {
        }
        
        &.addtocart-fixed{
            .block-core{
                form{
                    display: grid;
                    grid-template-columns: 55% 45%;
                }
            }
            .product-title-clone{
                order: 1;
                font-size: 16px;
            }
            .price-box{
                order: 3;
                font-size: 14px;
                letter-spacing: 0.5px;
                .product-compare-price{

                }
            }
            .product-attribute-container{
                padding-left: 10px;
                order: 2;
                .swatches {
                    .swatch {
                        margin-right: 5px;
                        margin-bottom: 5px;
                        font-size: 12px;
                        letter-spacing: 0.5px;
                    }
                }
            }
            .prod-core-form__footer{
                order: 4;
                padding-left: 10px;
                .add-to-cart-btn{
                    height: 30px;
                }
            }
        }
    }

    .product-core-block {

        .tabbed-module.metafield-tabs{
            .tabbed-title-wrap{
                flex-direction: row;
                margin: 0;
                overflow: auto;
                .tabbed-title{
                }
            }
        }

        &.block-badges{
            .product-badge,
            .product-vendor{
                display: inline-block;
                padding: 0 5px;
            }
            .product-vendor{
                display: none;
            }
        }
        &.block-title{
            .product-vendor{
                display: none;
            }
        }
        &.block-description {
            margin-top: 25px;
            .sku {
                margin-bottom: 5px;
            }
        }
        &.block-core {
            &:not(.fixed-core) {
                .selector-wrapper {
                    margin-top: 25px;
                    margin-bottom: 5px;
                    .swatches {
                        
                    }
                }
                .oneswatch-linked .swatch-label {
                    margin-bottom: 10px;
                    display: inline-block;
                }

                .add-to-cart-btn {
                }
            }
            &.fixed-core {
                width: 100%;
                left: 0 !important;
                top: auto !important;
                bottom: 0;
                background: $white;
                padding: 10px;
                box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.2);
            }
        }
        &.block-meta {
            text-align: left;
            margin-top: 25px;
        }
        &.block-share {
            margin-top: 25px;
        }
    }

    .product-extra {
        
    } //.product-extra

    .product-recommend {
        .collection-products {
            .item {
            }
        }
    }
}

//
// Medium - up Screens Only
//  _____________________________________________
@include query-medium-up {
    .product-core {
        // padding: 30px $externalPadding 20px;
        .product-core-inner {
            // padding: 0 10px;

        }
    }//.product-core

    .product-media {
        $mediaWidth: 80vw;
        $mediaMargin: 100px;
        $mediaPadding: 20px;
        display: flex;
        flex-direction: row-reverse;
        // align-items: center;
        padding: 0 $mediaPadding 0 0;
        &.slider{
            .product-media-images,
            .product-media-thumbnails {
                flex: 0 0 auto;
            }
    
            .product-media-images {
                width: calc(
                    #{$mediaWidth} - #{$mediaMargin} - #{$mediaPadding * 2}
                );
            }
    
            .product-media-thumbnails {
                width: calc(100vw - #{$mediaWidth});
                .images-wrapper {
                    display: flex;
                    flex-direction: column;
    
                    .image-thumbnail {
                        &:not(:last-child) {
                            margin-bottom: 8px;
                        }
                    }
                }
            }
        }
    }
    .tabbed-module {
        // padding: 0 30px;
        .tabbed-title-wrap {
            // justify-content: flex-start;

            .tabbed-title {
                &:first-child {
                    // margin-left: $internalPadding;
                }
            }
        }
        .tabbed-content-wrap {
            // padding: 0 $internalPadding;

            .tabbed-content {
                &.active {
                    // display: flex;
                }

            }
        }
    }
}

//
// Large Screens
//  _____________________________________________
@include query-large-up {
    $coreMaxWidth: 100%;
    $selectedHeaderHeight: $headerLargeScreenHeight * 2; // Depends on the header style you choose, it can be X1 or X2

    .template-product {
        .breadcrumb {
            padding-left: $moduleLargeScreenSidePadding;
            padding-right: $moduleLargeScreenSidePadding;
        }
        .product-core-wrapper{
            
        }
    }

    .product-detail-container{
        padding: 0 $moduleLargeScreenSidePadding 30px;
        // border-bottom: 1px solid $lightGrey2;
        .prod-core-form__footer{
            padding-top: 10px;
        }
    }

    .product-detail-container:not(.scrolling-grid) {
        // General PDP layout
        display: flex;
        flex-wrap: wrap;
        overflow: hidden;
        .product-media {
            width: 50%;
            margin-right: 5%;
            margin-left: 5%;
            overflow: hidden;

            float: left;
            padding-bottom: 30px;
        }
        .product-core {
            width: 40%;
            float: right;
        }
        .product-core-wrapper{
            .product-complementary-info{
                text-align: left;
            }
        }
        .product-extra {
            width: 100%;
        }
    }

    .product-media,
    .product-core {
        
    }

    .product-media {
        display: flex;
        &.quickshop,
        &.slider {
            // Media slider layout
            flex-direction: row-reverse;

            &,
            .image-slide {
                // height: calc(100vh - #{$selectedHeaderHeight});
            }

            .product-media-images {
                // width: calc(85% - 100px);
                width: 100%;
                // max-width: 600px;
                margin-left: 0;
                padding-left: calc(100px + 5%);
                
                .images-wrapper {
                    
                }
                .image-slide {
                    picture{
                        cursor: zoom-in;
                    }
                }
                .product-image {
                    
                    margin: 0 auto;
                    max-width: 644px;
                    width: 100%;
                }
            }

            .product-media-thumbnails {
                // width: 15%;
                width: 64px;
                height: 100%;
                left: 20px;
                position: absolute;
                .images-wrapper {
                    flex-direction: column;
                    // justify-content: center;
                    padding-top: 30px;
                    height: 100%;
                }
                .image-thumbnail.media-video{
                    cursor: pointer;
                    .video-wrapper{
                        display: none;
                    }
                }
            }
        }
    }

    .product-core {
        // Detailed Product Core
        .price-box{
            font-size: 22px;
        }
        .product-core-inner {
            // max-width: $coreMaxWidth;
            // padding-bottom: 20px;
        }
        .product-attribute-container {
            max-width: none;
            // width: 400px;
            width: 100%;
            box-sizing: content-box;
        }
        .add-to-cart-btn {
        }

        &.quickshop,
        &.slider {
            display: flex;
            flex-direction: column;
            // justify-content: center;
            padding-top: 20px;
            padding-bottom: 40px;
            align-items: center;
            .product-core-inner {
                display: flex;
                flex-direction: column;
            }
            .product-select-wrapper {
                select {
                    background-color: $white;
                }
            }
            .qty-wrap {
                background-color: $white;
                input {
                    text-indent: 12px;
                }
            }
        }

        &.scrolling {
            & > div {
                // display: flex;
                // flex-direction: column;
                // justify-content: center;
                // align-items: center;

                // max-height: calc(100vh - #{$selectedHeaderHeight});
                // overflow: auto;
                @include scrollbarStyling();
            }
            .product-core-inner {
            }
        }
        &.addtocart-fixed{
            .block-core form{
                padding: 15px $moduleLargeScreenSidePadding;
                display: flex;
                align-items: center;
                justify-content: space-between;
            }
            .product-title-clone{
                font-size: 20px;
            }
            .price-box{
                margin: 0;
                font-size: 18px;
            }
            .product-attribute-container{
                width: auto;
                margin: 0;
                .selector-wrapper{
                    .swatch-label{
                        display: none;
                    }
                    .swatches{
                        .swatch{
                            margin-bottom: 5px;
                        }
                    }
                }
                .variant-selection-availability{
                    max-height: 0;
                }
            }
            .prod-core-form__footer{
                .add-to-cart-btn{
                    min-width: 200px;
                }
                .klaviyo-bis-trigger{
                    font-size: 12px;
                    padding: 10px 8px 8px;
                }
            }
        }

    }//.product-core

    .product-core-block {
        // Detailed Product Core Blocks
        &.block-badges{
            .product-vendor{
                display: none;
            }
        }
        .swatch-label{
        }

        &.block-review-rate {            
            .yotpo-reviews-star-ratings-widget{
                padding-bottom: 15px;
            }
        }
        &.block-title {
            position: relative;
        }
        &.block-description {
            margin-top: 20px;
        }

        .price-box {
            justify-content: flex-start;
        }

        &.block-core {
            &:not(.fixed-core) {
                .oneswatch-size,
                .oneswatch-linked {
                    // margin-top: 30px;
                }
                .size-chart-trigger,
                .oneswatch-linked .swatch-label {
                    // margin-top: 15px;
                }
            }

            &.fixed-core {
                width: 100%;
                left: 0 !important;
                top: auto !important;
                bottom: 0;
                background: $white;
                padding: 10px;
                box-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.2);

                form {
                    display: flex;
                    flex-wrap: nowrap;
                    justify-content: space-between;
                    .selector-wrapper {
                        margin-right: 20px;
                    }
                    .product-attribute-container {
                        display: flex;
                        .swatch-linked {
                            // Make image swatch same size as other swatches
                            a {
                                width: 34px;
                                height: 34px;
                            }
                        }
                    }
                    .add-to-cart-btn {
                    }
                }
            }
        }
        &.block-meta {
            margin-top: 20px;
        }
        &.block-share {
            margin-top: 30px;
        }
    }

    .product-extra {

        & > .review-container {
            // For review block that outside of tabs
            width: 100%;
            margin: 0 auto;
            max-width: $xxLargeScreen;
        }
    } //.product-extra

    .product-reviews {
        padding-left: $moduleLargeScreenSidePadding;
        padding-right: $moduleLargeScreenSidePadding;
        &.no-video {
            
        }
    }

    .product-recommend {
        padding-left: $moduleLargeScreenSidePadding;
        padding-right: $moduleLargeScreenSidePadding;
        .ls-box-title{

        }
    }
}